<!doctype html><html><head><title>Linux Virtual Filesystem</title><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta http-equiv=x-ua-compatible content="ie=edge"><link rel=stylesheet href=/css/bootstrap.min.css><link rel=stylesheet href=/css/layouts/main.css><link rel=stylesheet href=/css/navigators/navbar.css><link rel=stylesheet href=/css/plyr.css><link rel=stylesheet href=/css/flag-icon.min.css><link href="https://fonts.googleapis.com/css2?family=Muli:wght@300;400;500;600" rel=stylesheet><link rel=stylesheet href=https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.11.2/css/all.min.css><link rel=icon type=image/png href=/images/site/logo_hu46080cd0c725e203453795b794b5609d_25299_42x0_resize_box_2.png><meta property="og:title" content="Linux Virtual Filesystem"><meta property="og:description" content="Application programs read and write files , rather than dealing with physical locations on the actual hardware on which files are stored. Filesystems create a usable format on physical partition.
Files and their names are an abstraction camouflaging the physical I/O layer.
A UNIX-like filesystem uses a tree hierarchy:
 Directories contain files and/or other directories Every path or node is under the root directory.  Multiple filesystems may be (and usually are) merged together into a single tree structure."><meta property="og:type" content="article"><meta property="og:url" content="https://henzelmoras.github.io/posts/linux-sys-admin/linux-virtual-filesystem/"><meta property="article:published_time" content="2021-04-16T00:00:00+00:00"><meta property="article:modified_time" content="2021-04-16T00:00:00+00:00"><meta name=description content="Linux Virtual Filesystem"><link rel=stylesheet href=https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.18.1/styles/atom-one-dark.min.css><link rel=stylesheet href=/css/layouts/single.css><link rel=stylesheet href=/css/navigators/sidebar.css><link rel=stylesheet href=/css/style.css><script type=application/javascript>var doNotTrack=false;if(!doNotTrack){(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)})(window,document,'script','https://www.google-analytics.com/analytics.js','ga');ga('create','G-0EF8BRBSL1','auto');ga('send','pageview');}</script></head><body data-spy=scroll data-target=#TableOfContents data-offset=80><div class="container-fluid bg-dimmed wrapper"><nav class="navbar navbar-expand-xl top-navbar final-navbar shadow"><div class=container><button class="navbar-toggler navbar-light" id=sidebar-toggler type=button onclick=toggleSidebar()>
<span class=navbar-toggler-icon></span></button>
<a class=navbar-brand href=/><img src=/images/site/logo_hu46080cd0c725e203453795b794b5609d_25299_42x0_resize_box_2.png alt=Logo>
Henzel Moras</a>
<button class="navbar-toggler navbar-light" id=toc-toggler type=button onclick=toggleTOC()>
<span class=navbar-toggler-icon></span></button><div class="collapse navbar-collapse lang-selector" id=top-nav-items><ul class="navbar-nav ml-auto"></ul></div></div><img src=/images/site/logo_hu46080cd0c725e203453795b794b5609d_25299_42x0_resize_box_2.png class=d-none id=main-logo alt=Logo>
<img src=/images/site/logo_hu46080cd0c725e203453795b794b5609d_25299_42x0_resize_box_2.png class=d-none id=inverted-logo alt="Inverted Logo"></nav><section class=sidebar-section id=sidebar-section><div class=sidebar-holder><div class=sidebar id=sidebar><form class=mx-auto method=get action=/search><input type=text name=keyword placeholder=Search data-search id=search-box></form><div class=sidebar-tree><ul class=tree id=tree><li id=list-heading><a href=/posts data-filter=all>Posts</a></li><div class=subtree><li><i class="fas fa-minus-circle"></i><a class=active href=/posts/linux-sys-admin/>Linux Sys Admin</a><ul class=active><li><a href=/posts/linux-sys-admin/lab-setup/ title="Lab Setup">Lab Setup</a></li><li><a class=active href=/posts/linux-sys-admin/linux-virtual-filesystem/ title="Linux Virtual Filesystem">Linux Virtual Filesystem</a></li><li><i class="fas fa-plus-circle"></i><a href=/posts/linux-sys-admin/basic-storage-management/>Basic Storage Partition</a><ul><li><a href=/posts/linux-sys-admin/basic-storage-management/why-disk-partition/ title="Why Disk Partition ?">Why Disk Partition ?</a></li><li><a href=/posts/linux-sys-admin/basic-storage-management/storage-overview/ title="Storage Overview">Storage Overview</a></li><li><a href=/posts/linux-sys-admin/basic-storage-management/disk-types/ title="Disk Types">Disk Types</a></li><li><a href=/posts/linux-sys-admin/basic-storage-management/interacting-with-disks/ title="Interacting With Disks">Interacting With Disks</a></li><li><a href=/posts/linux-sys-admin/basic-storage-management/disk-partition/ title="Disk Partition">Disk Partition</a></li><li><a href=/posts/linux-sys-admin/basic-storage-management/backup-partition/ title="Backup Partition">Backup Partition</a></li><li><a href=/posts/linux-sys-admin/basic-storage-management/file-as-disk/ title="File As Disk">File As Disk</a></li></ul></li><li><i class="fas fa-plus-circle"></i><a href=/posts/linux-sys-admin/advanced-storage-managment/>Advanced Storage Partition</a><ul><li><a href=/posts/linux-sys-admin/advanced-storage-managment/logical-volume-manager/ title=LVM>LVM</a></li><li><a href=/posts/linux-sys-admin/advanced-storage-managment/raid/ title=RAID>RAID</a></li><li><a href=/posts/linux-sys-admin/advanced-storage-managment/swap/ title=swap>swap</a></li><li><a href=/posts/linux-sys-admin/advanced-storage-managment/quotas/ title=Quotas>Quotas</a></li><li><a href=/posts/linux-sys-admin/advanced-storage-managment/encryption/ title=Encryption>Encryption</a></li></ul></li><li><i class="fas fa-plus-circle"></i><a href=/posts/linux-sys-admin/operation-of-running-systems/>Operation of Running Systems</a><ul><li><a href=/posts/linux-sys-admin/operation-of-running-systems/boot-process/ title="Boot Process">Boot Process</a></li><li><a href=/posts/linux-sys-admin/operation-of-running-systems/grub/ title=Grub>Grub</a></li><li><a href=/posts/linux-sys-admin/operation-of-running-systems/kernel/ title=Kernel>Kernel</a></li></ul></li></ul></li></div></ul></div></div></div></section><section class=content-section id=content-section><div class=content><div class="container p-0 read-area"><div class="hero-area col-sm-12" id=hero-area style=background-image:url(https://henzelmoras.github.io/posts/linux-sys-admin/linux-virtual-filesystem/images/rainbow.png)></div><div class=page-content><div class="author-profile ml-auto align-self-lg-center"><img class=rounded-circle src=/images/site/default-avatar_hu65b9e34f1adebe9b4bec57596ad2e1bf_347794_120x120_fit_box_2.png alt="Author Image"><h5 class=author-name>Henzel Moras</h5><p>April 16, 2021</p></div><div class=title><h1>Linux Virtual Filesystem</h1></div><div class=post-content id=post-content><p>Application programs read and write files , rather than dealing with physical locations on the actual hardware on which files are stored. Filesystems create a usable format on physical partition.</p><p>Files and their names are an abstraction camouflaging the physical I/O layer.</p><p>A UNIX-like filesystem uses a tree hierarchy:</p><ul><li>Directories contain files and/or other directories</li><li>Every path or node is under the root directory.</li></ul><p>Multiple filesystems may be (and usually are) merged together into a single tree structure. Linux uses a virtual filesystem layer (VFS) to communicate with the filesystem software.</p><p>Local filesystems generally reside within a disk partition which can be a physical partition on a disk, or a logical partition controlled by a Logical Volume Manager (LVM). Filesystems can also be of a network nature and their true physical embodiment completely hidden to the local system across the network.</p><h3 id=inodes><strong>Inodes</strong></h3><p>An inode is a data structure on disk that describes and stores file attributes, including location. Every file is associated with its own inode. The information stored in the inode includes:</p><ul><li>Permissions</li><li>User and group ownership</li><li>Size</li><li>Timestamps (nanosecond)Last access timeLast modification timeChange time.</li></ul><p><img src=images/Directory-Structure.png alt="Directory Structure"></p><p><strong>Data storage in an inode vs data storage in a directory file</strong></p><h1 id=heading>ðŸ’¡</h1><p>File names are not stored in a file&rsquo;s inode, but are instead stored in the directory file. The name of a file is just a property of its inode, which is the more fundamental object.</p><p>All I/O activity concerning a file usually also involves the file&rsquo;s inode, as information must be updated.</p><h3 id=journaling-filesystems>Journaling Filesystems</h3><p>Journaling filesystems recover from system crashes or ungraceful shutdowns with little or no corruption, and do so very rapidly. While this comes at the price of having some more operations to do, additional enhancements can more than offset the price.</p><p>In a journaling filesystem, operations are grouped into transactions. A transaction must be completed without error, atomically; otherwise, the filesystem is not changed. A log file is maintained of transactions. When an error occurs, usually only the last transaction needs to be examined.</p><p>Linux supports many filesystem varieties, most with full read and write access, including:</p><ul><li>ext4: Linux native filesystem (and earlier ext2 and ext3)</li><li>XFS: A high-performance filesystem originally created by SGI</li><li>JFS: A high-performance filesystem originally created by IBM</li><li>Windows-natives: FAT12, FAT16, FAT32, VFAT, NTFS</li><li>Pseudo-filesystems resident only in memory, including proc, sysfs, devfs, debugfs</li><li>Network filesystems such as NFS, coda, afs</li><li>etc.</li></ul><p>This democratic flexibility has been a large factor in its success. Most filesystems have full read/write access, while a few have read only access.</p><p>Commonly used filesystems include ext4, xfs, btrfs, squashfs, nfs and vfat. A list of currently supported filesystems is atÂ <strong>/proc/filesystems</strong>.</p><h3 id=special-filesystems>Special Filesystems</h3><p>Linux widely employs the use of special filesystems for certain tasks. These are particularly useful for accessing various kernel data structures and tuning kernel behavior, or for implementing particular functions. Note that some of these special filesystems have no mount point, such asÂ <strong>sockfs</strong>Â orÂ <strong>pipefs</strong>; this means user applications don&rsquo;t interact with them, but the kernel uses them, taking advantage of VFS layers and code. These special filesystems are really not true filesystems; they are kernel facilities or subsystems that find the filesystem structural abstraction to be a useful way to recognize data and functionality.</p><p><strong>Table: Special Filesystems</strong></p><table><thead><tr><th>FILESYSTEM</th><th>MOUNT POINT</th><th>PURPOSE</th></tr></thead><tbody><tr><td>rootfs</td><td>None</td><td>During kernel load, provides an empty root directory</td></tr><tr><td>hugetlbfs</td><td>Anywhere</td><td>Provides extended page access (2 or 4 MB on X86)</td></tr><tr><td>bdev</td><td>None</td><td>Used for block devices</td></tr><tr><td>proc</td><td>/proc</td><td>Pseudofilesystem access to many kernel structures and subsystems</td></tr><tr><td>sockfs</td><td>None</td><td>Used by BSD Sockets</td></tr><tr><td>tmpfs</td><td>Anywhere</td><td>RAM disk with swapping, re-sizing</td></tr><tr><td>shm</td><td>None</td><td>Used by System V IPC Shared Memory</td></tr><tr><td>pipefs</td><td>None</td><td>Used for pipes</td></tr><tr><td>binfmt_misc</td><td>Anywhere</td><td>Used by various executable formats</td></tr><tr><td>devpts</td><td>/dev/pts</td><td>Used by Unix98 pseudo-terminals</td></tr><tr><td>usbfs</td><td>/proc/bus/usb</td><td>Used by USB sub-system for dynamical devices</td></tr><tr><td>sysfs</td><td>/sys</td><td>Used as a device tree</td></tr><tr><td>debugfs</td><td>/sys/kernel/debug</td><td>Used for simple debugging file access</td></tr></tbody></table></div><div class=btn-improve-page><a href=https://github.com/HenzelMoras/HenzelMoras.github.io/edit/source/content/posts/linux-sys-admin/linux-virtual-filesystem/index.md title="Improve this page" target=_blank rel=noopener><i class="fas fa-code-branch"></i>Improve this page</a></div><hr><div class="row next-prev-navigator"><div class="col-md-6 previous-article"><a href=/posts/linux-sys-admin/lab-setup/ title="Lab Setup" class="btn btn-outline-info"><div><i class="fas fa-chevron-circle-left"></i>Prev</div><div class=next-prev-text>Lab Setup</div></a></div><div class="col-md-6 next-article"><a href=/posts/linux-sys-admin/basic-storage-management/why-disk-partition/ title="Why Disk Partition ?" class="btn btn-outline-info"><div>Next <i class="fas fa-chevron-circle-right"></i></div><div class=next-prev-text>Why Disk Partition ?</div></a></div></div><hr><div id=disqus_thread></div><script type=text/javascript>(function(){if(window.location.hostname=="localhost")return;var dsq=document.createElement("script");dsq.type="text/javascript";dsq.async=true;var disqus_shortname="henzelmoras-github-io";dsq.src="//"+disqus_shortname+".disqus.com/embed.js";(document.getElementsByTagName("head")[0]||document.getElementsByTagName("body")[0]).appendChild(dsq);})();</script><noscript>Please enable JavaScript to view the
<a href=https://disqus.com/?ref_noscript>comments powered by Disqus.</a></noscript><a href=https://disqus.com/ class=dsq-brlink>comments powered by <span class=logo-disqus>Disqus</span></a></div></div></div><a id=scroll-to-top class=btn><i class="fas fa-chevron-circle-up"></i></a></section><section class=toc-section id=toc-section><div class=toc-holder><h5 class="text-center pl-3">Table of Contents</h5><hr><div class=toc><nav id=TableOfContents><ul><li><ul><li><a href=#inodes><strong>Inodes</strong></a></li></ul></li></ul><ul><li><ul><li><a href=#journaling-filesystems>Journaling Filesystems</a></li><li><a href=#special-filesystems>Special Filesystems</a></li></ul></li></ul></nav></div></div></section></div><footer class="container-fluid text-center align-content-center footer pb-2"><div class="container pt-5"><div class="row text-left"><div class="col-md-4 col-sm-12"><h5>Navigation</h5><ul><li class=nav-item><a class=smooth-scroll href=#about>About</a></li><li class=nav-item><a class=smooth-scroll href=#skills>Skills</a></li><li class=nav-item><a class=smooth-scroll href=#education>Education</a></li><li class=nav-item><a class=smooth-scroll href=#projects>Projects</a></li><li class=nav-item><a class=smooth-scroll href=#accomplishments>Accomplishments</a></li><li class=nav-item><a class=smooth-scroll href=#recent-posts>Recent Posts</a></li><li class=nav-item><a class=smooth-scroll href=#achievements>Achievements</a></li></ul></div><div class="col-md-4 col-sm-12"><h5>Contact me:</h5><ul><li><span>Email:</span> <span>henzelmoras@gmail.com</span></li></ul></div></div></div><hr><div class=container><div class="row text-left"><div class=col-md-4><a id=theme href=#home target=#><img src=/images/site/logo_hu46080cd0c725e203453795b794b5609d_25299_32x0_resize_box_2.png>
Henzel Moras</a></div><div class="col-md-4 text-center">Â© 2021 Copyright.</div><div class="col-md-4 text-right"><a id=hugo href=https://gohugo.io/>Powered by
<img src=/images/hugo-logo.svg alt="Hugo Logo" height=18></a>
<a id=theme href=https://github.com/hossainemruz/toha target=#><img src=/images/theme-logo_hu8376fd15465fef26ffe66b6bcf0ca686_13669_32x0_resize_box_2.png>
Toha</a></div></div></div></footer><script type=text/javascript src=/js/jquery-3.4.1.min.js></script><script type=text/javascript src=/js/popper.min.js></script><script type=text/javascript src=/js/bootstrap.min.js></script><script type=text/javascript src=/js/navbar.js></script><script type=text/javascript src=/js/plyr.js></script><script type=text/javascript src=/js/main.js></script><script src=https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.18.1/highlight.min.js></script><script src=/js/single.js></script><script>hljs.initHighlightingOnLoad();</script></body></html>